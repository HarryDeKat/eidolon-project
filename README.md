# README.md
# The Eidolon Project

**A daily, psychologically-rich story generated by AI.**

This project is a Python-based AI script that generates a unique, psychologically-rich narrative each time it is run. It is designed to be a source of daily introspection, learning, and literary art.

The AI, acting as "The Curator," first conceives a unique creative briefâ€”combining a psychological concept with an inventive format. It then writes a story based on that brief, followed by a "Curator's Note" that unpacks the underlying theme.

## New Features

-   **AI-Generated Cover Art**: Each story is now accompanied by unique cover art, generated by an image AI based on the story's content.
-   **Themed Story Arcs**: The AI will occasionally create a multi-part story arc, exploring a single theme across several days for a more cohesive experience.
-   **Individual Markdown Files**: Every story is saved as a neatly formatted Markdown file in the `output/stories` directory, perfect for browsing or using with static site generators like Obsidian.
-   **Modular Codebase**: The project has been refactored into a clean, modular structure for better maintainability and extensibility.

## Output

-   `output/stories/`: Contains individual Markdown files for each story.
-   `output/art/`: Contains the AI-generated cover art images.
-   `output/rss.xml`: A standard RSS feed compiling all stories, now with embedded cover art.
-   `history.json`: A log of all generated story data.
-   `theme_state.json`: A temporary file that tracks the progress of an active story arc.

## Setup Instructions

### 1. Prerequisites

-   Python 3.7+
-   An API key for the Google Generative AI API (for both Gemini and Imagen models). You can get one from [Google AI Studio](https://aistudio.google.com/app/apikey).

### 2. Installation

1.  Clone or download the project files.
2.  Create a `requirements.txt` file with the following content:
    ```
    google-generativeai
    markdown
    Pillow
    ```
3.  Install the required Python libraries:
    ```bash
    pip install -r requirements.txt
    ```

### 3. Configuration

1.  Open the `config.py` file.
2.  Set your Google Generative AI API key in the `API_KEY` variable. For better security, it is recommended to set this as an environment variable (`GEMINI_API_KEY`) instead of hardcoding it.
    ```python
    # config.py
    API_KEY = "YOUR_GEMINI_API_KEY_HERE"
    ```

### 4. Running the Script

Navigate to the project directory in your terminal and run the main script:

```bash
python main.py
```
The script will create the necessary output directories and files. Each subsequent run will add a new story.

### 5. Regenerating All Outputs
If you want to rebuild all Markdown files and the RSS feed from the existing history.json without generating a new story, use the --regenerate flag:
```bash
python main.py --regenerate
```

This is useful if you change the output formatting and want to apply it to all past stories.
```
requirements.txt
google-generativeai
markdown
Pillow
```